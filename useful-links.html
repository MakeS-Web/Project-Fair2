<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Mentor - Полезные ссылки</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <h1>My Mentor</h1>
        <nav>
            <a href="index.html">Главная</a>
            <a href="mentor-select.html">Менторы</a>
            <a href="mentor-tasks.html">Задачи</a>
            <a href="personal-goals.html">Цели</a>
            <a href="useful-links.html" class="active">Ссылки</a>
        </nav>
    </header>

    <main class="container">
        <h2>Полезные ссылки</h2>

        <form id="addLinkForm">
            <input type="text" id="linkTitle" placeholder="Название" required>
            <input type="url" id="linkUrl" placeholder="URL" required>
            <button type="submit">Добавить</button>
        </form>

        <div id="linksList" class="links-list">
            <!-- Ссылки будут добавляться через JS -->
        </div>
    </main>

    <footer>
        <p>© 2023 My Mentor. Все права защищены.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
                const linksList = document.getElementById('linksList');
                const addLinkForm = document.getElementById('addLinkForm');

                // Загружаем ссылки из localStorage
                let links = JSON.parse(localStorage.getItem('links')) || [];

                // Отображаем ссылки
                renderLinks();

                // Обработка добавления новой ссылки
                addLinkForm.addEventListener('submit', function (e) {
                    e.preventDefault();

                    const title = document.getElementById('linkTitle').value.trim();
                    let url = document.getElementById('linkUrl').value.trim();

                    if (title && url) {
                        // Добавляем http:// если его нет
                        if (!url.startsWith('http://') && !url.startsWith('https://')) {
                            url = 'https://' + url;
                        }

                        links.push({ title, url });
                        localStorage.setItem('links', JSON.stringify(links));

                        document.getElementById('linkTitle').value = '';
                        document.getElementById('linkUrl').value = '';

                        renderLinks();
                    }
                });

                function renderLinks() {
                    linksList.innerHTML = '';

                    links.forEach((link, index) => {
                        const linkItem = document.createElement('div');
                        linkItem.className = 'link-item';
                        linkItem.innerHTML = `
                <div class="link-card">
                    <h3>${link.title}</h3>
                    <a href="${link.url}" target="_blank">${link.url}</a>
                    <button class="delete-btn" data-index="${index}">Удалить</button>
                </div>
            `;

                        linksList.appendChild(linkItem);

                        // Обработка кнопки удаления
                        const deleteBtn = linkItem.querySelector('.delete-btn');
                        deleteBtn.addEventListener('click', function () {
                            links.splice(index, 1);
                            localStorage.setItem('links', JSON.stringify(links));
                            renderLinks();
                        });
                    });
                }
            });
    </script>
</body>

</html>